{% extends 'base.html' %}
{%  load crispy_forms_tags %}

{% block body %}

<form class=""  method="POST">
    {% csrf_token %}
    <div class="containter jumbotron col-md-6 offset-md-3">
        <h2>Project Registration</h2>
        <hr>
        {{form|crispy}}
        
        <input class="btn btn-primary" type="submit" value="Submit" name="Submit" onclick="return confirm('Are you sure you want to Submit? You will not be able to edit it later.')"/>
        <input class="btn btn-danger" type="submit" value="Save as Draft" name="Draft"/>


    </div>
</form>


<script type="text/javascript">
    var number_of_supervisors = 1;

    document.getElementById("div_id_supervisor2Title").style.display = "none";
    document.getElementById("div_id_supervisor2FirstName").style.display = "none";
    document.getElementById("div_id_supervisor2LastName").style.display = "none";

    document.getElementById("div_id_supervisor3Title").style.display = "none";
    document.getElementById("div_id_supervisor3FirstName").style.display = "none";
    document.getElementById("div_id_supervisor3LastName").style.display = "none";


    function addTitleAfter(div, title, node){
        var referenceNode = document.getElementById(div);
        var newNode = document.createElement(node);
        newNode.id = title;
        var text = document.createTextNode(title);
        newNode.appendChild(text);
        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
    }

    addTitleAfter("div_id_IP", "Please indicate all disciplines for which the project is suitable:", "label");

    addTitleAfter("div_id_description", "Remove Extra Supervisor", "div");
    document.getElementById("Remove Extra Supervisor").className = "btn btn-danger";
    document.getElementById("Remove Extra Supervisor").style.display = "none";

    addTitleAfter("div_id_description", "Add Extra Supervisor", "div");
    document.getElementById("Add Extra Supervisor").className = "btn btn-primary";
    document.getElementById("Add Extra Supervisor").style.marginRight = "10px";


    document.getElementById("Add Extra Supervisor").onclick = function(){
        if(number_of_supervisors == 1){
            document.getElementById("div_id_supervisor2Title").style.display = "block";
            document.getElementById("div_id_supervisor2FirstName").style.display = "block";
            document.getElementById("div_id_supervisor2LastName").style.display = "block";
            document.getElementById("Remove Extra Supervisor").style.display = "inline-block";
            number_of_supervisors += 1;
        } else if (number_of_supervisors == 2) {
            document.getElementById("div_id_supervisor3Title").style.display = "block";
            document.getElementById("div_id_supervisor3FirstName").style.display = "block";
            document.getElementById("div_id_supervisor3LastName").style.display = "block";
            document.getElementById("Add Extra Supervisor").style.display = "none";
            number_of_supervisors += 1;
        }
    };

    document.getElementById("Remove Extra Supervisor").onclick = function(){
        if(number_of_supervisors == 2){
            document.getElementById("div_id_supervisor2Title").style.display = "none";
            document.getElementById("div_id_supervisor2FirstName").style.display = "none";
            document.getElementById("div_id_supervisor2LastName").style.display = "none";
            document.getElementById("Remove Extra Supervisor").style.display = "none";
            number_of_supervisors -= 1;
        } else if (number_of_supervisors == 3) {
            document.getElementById("div_id_supervisor3Title").style.display = "none";
            document.getElementById("div_id_supervisor3FirstName").style.display = "none";
            document.getElementById("div_id_supervisor3LastName").style.display = "none";
            document.getElementById("Add Extra Supervisor").style.display = "inline-block";
            number_of_supervisors -= 1;
        }
    };


    //addTitleAfter("div_id_description", "Second Supervisor (Optional)", "label");
    //addTitleAfter("div_id_supervisor2LastName", "Third Supervisor (Optional)", "label");

    addTitleAfter("div_id_other","","hr");

</script>

{% endblock %}
